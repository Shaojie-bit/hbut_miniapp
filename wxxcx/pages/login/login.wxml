<view class="container">
  <view class="header">
    <image class="logo" src="/assets/logo.svg" mode="aspectFit"></image> <!-- Placeholder logo -->
    <text class="title">HBUT 教务助手</text>
    <text class="subtitle">更优雅的查分体验</text>
  </view>

  <view class="form-card">
    <view class="input-group">
      <text class="label">学号</text>
      <input class="input" type="number" placeholder="请输入学号" model:value="{{username}}" />
    </view>

    <view class="input-group">
      <text class="label">密码</text>
      <input class="input" password type="text" placeholder="请输入密码" model:value="{{password}}" />
    </view>

    <!-- Captcha Row (Hidden by default, shown on retry) -->
    <view class="input-group" wx:if="{{needCaptcha}}">
      <text class="label">验证码</text>
      <view class="captcha-row">
        <input class="input captcha-input" type="text" placeholder="点击图片刷新" model:value="{{captcha}}" maxlength="4" />
        <view class="captcha-img-wrapper" bindtap="onCaptchaTap">
          <image wx:if="{{captchaImg}}" class="captcha-img" src="{{captchaImg}}" mode="aspectFit"></image>
          <view wx:else class="captcha-loading">{{captchaLoading ? '加载中...' : '点击加载'}}</view>
        </view>
      </view>
    </view>

    <button class="login-btn" bindtap="handleLogin" loading="{{loading}}" disabled="{{loading}}">
       {{loading ? '登录中...' : '登录'}}
    </button>
  </view>
  
  <view class="footer">
    <text>Designed for HBUTers</text>
  </view>
</view>
