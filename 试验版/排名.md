```
再增加一个查看成绩排名的功能：
请求 URL
https://hbut.jw.chaoxing.com/admin/cjgl/xscjbbdy/xsgrcjpmlist1?url=/admin/api/getKbxx
响应：
<!DOCTYPE html>
 
        
<!DOCTYPE html>
<html style="overflow-x:auto;overflow-y:auto;">
<head>
    <title>单个学生成绩排名-Powered by ChaoXing</title>
    
<!DOCTYPE html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="keywords" content="湖北工业大学综合教务管理系统">
<meta name="description" content="湖北工业大学综合教务管理系统">

         <link rel="shortcut icon" href="/admin/system/attachment/showImage/9df8ff9f48dc41cba17ae3c690b6af87?_t=1768303707405">
<link href="/static/vendors/bootstrap/css/bootstrap.min.css?_t=1768303707405" rel="stylesheet">
<link href="/static/vendors/font-awesome/css/font-awesome.min.css?_t=1768303707405" rel="stylesheet">
<link href="/static/vendors/animate/css/animate.css?_t=1768303707405" rel="stylesheet">
<link type="text/css" rel="stylesheet" href="/static/vendors/iCheck/skins/all.css?_t=1768303707405">
<link href="/static/vendors/datepicker/datepicker3.css?_t=1768303707405" rel="stylesheet">
<!-- jqgrid-->
		<link href="/static/vendors/jqgrid/css/ui.jqgrid-bootstrap.css?_t=1768303707405" rel="stylesheet">
<!-- Sweet Alert -->
		<link href="/static/vendors/sweetalert/sweetalert.css?_t=1768303707405" rel="stylesheet">
<!-- jquery-ui -->
		<link type="text/css" rel="stylesheet"  href="/static/vendors/jquery-ui-1.10.4.custom/css/ui-lightness/jquery-ui-1.14.0.custom.min.css?_t=1768303707405"/>


<!-- 由于使用了自定义标签，jquery必须在之前 -->
<!-- 全局js -->
<script src="/static/vendors/jquery/js/jquery.min.js?_t=1768303707405"></script>
<script src="/static/common/js/prototype.js?_t=1768303707405"></script>
       <script src="/static/common/js/func.js?_t=1768303707405"></script>
<script src="/static/vendors/jquery-ui/jquery-ui.min.js?_t=1768303707405"></script>
        <link href="/static/common/css/style.css?_t=1768303707405" rel="stylesheet">
    

<script src="/static/common/demo/imgViewer/js/imgView.js?_t=1768303707405"></script>
<link rel="stylesheet" type="text/css" href="/static/common/demo/imgViewer/css/style.css?_t=1768303707405"/>
    
    
    <meta name="decorator" content="list"/>
    <!-- layerDate plugin javascript -->
   	    <script src="/static/vendors/layer/laydate/laydate.js?_t=1768303707405"></script>

    <link rel="stylesheet" type="text/css" href="/static/yselect/bootstrap-3.3.4.css?_t=1768303707405">
    <link rel="stylesheet" type="text/css" href="/static/yselect/font-awesome.4.6.0.css?_t=1768303707405">
    <script src="/static/common/js/ySelect.js?_t=1768303707405"></script>
    <link href="/static/common/css/ySelect.css?_t=1768303707405" type="text/css" rel="stylesheet">
    <style>
        .fa-trash {
            display: none;
        }
        .form-control{
            box-shadow: none;
        }
        .form-inline .btn{
            padding: 4px 17px;
            background-color: #2BA0F5;
            border: 1px solid #2BA0F5;
        }
        .empty-data-tips {
            position: absolute;
            left: 50%;
            top: 190px;
            transform: translateX(-50%);
        }

        .empty-data-tips .empty-img {
            width: 178px;
            height: 127px;
            margin: 0 auto;
            background-image: url('/static/img/lazyload.png?_t=1768303707405');
            margin-bottom: 20px;
        }

        .empty-data-tips .empty-tip {
            text-align: center;
            font-size: 13px;
            color: #777;
        }

        .fs-option.curXnxq{
            color: #00c297;
        }
    </style>
    <script>
        /*把修改按钮放到每一行*/
        function dgxscjdy(title, url, gridId, id, width, height, tipMsg) {
            openDia(title, url, gridId, width, height);
        }

        $(function () {
            $('#kcxz').ySelect();
            $('#dyxz').ySelect();
        });

        function openDia(titel, url, gridid, width, height) {

            if (navigator.userAgent.match(/(iPhone|iPod|Android|ios)/i)) {//如果是移动端，就使用自适应大小弹窗
                width = 'auto';
                height = 'auto';
            } else {//如果是PC端，根据用户设置的width和height显示。
                /* 	width='100%';
                    height='100%'; */
                width = '100%';
                height = '100%';
            }
            top.layer.open({
                type: 2,
                area: [width, height],
                title: titel,
                maxmin: true, //开启最大化最小化按钮
                content: url,
                btn: ['关闭'],
                cancel: function (index) {
                    layer.closeAll();
                },
                end: function () {
                    layer.closeAll();
                }
            });
        }
    </script>



    <style>
        .dropload-up, .dropload-down {
            position: relative;
            height: 0;
            overflow: hidden;
            font-size: 12px;
            /* 开启硬件加速 */
            -webkit-transform: translateZ(0);
            transform: translateZ(0);
        }

        .dropload-down {
            height: 50px;
        }

        .dropload-refresh, .dropload-update, .dropload-load, .dropload-noData {
            line-height: 50px;
            text-align: center;
        }

        .dropload-load .loading {
            display: inline-block;
            height: 15px;
            width: 15px;
            border-radius: 100%;
            margin: 6px;
            border: 2px solid #666;
            border-bottom-color: transparent;
            vertical-align: middle;
            -webkit-animation: rotate 0.75s linear infinite;
            animation: rotate 0.75s linear infinite;
        }

        @-webkit-keyframes rotate {
            0% {
                -webkit-transform: rotate(0deg);
            }
            50% {
                -webkit-transform: rotate(180deg);
            }
            100% {
                -webkit-transform: rotate(360deg);
            }
        }

        @keyframes rotate {
            0% {
                transform: rotate(0deg);
            }
            50% {
                transform: rotate(180deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }
    </style>
    <script src="/static/js/xkgl/dropload.min.js?_t=1768303707405"></script>
    <script>
        $(function () {
            $(".gohome").hide();
            $('#downOrUpRefresh').bind({
                scrollArea: window,
                domUp: {
                    domClass: 'dropload-up',
                    domRefresh: '<div class="dropload-refresh">下拉刷新</div>',
                    domUpdate: '<div class="dropload-update">释放刷新</div>'
                },
                loadUpFn: function (me) {
                    window.location.reload(true);
                },
                threshold: 50
            });
        });
    </script>
</head>
<body class="gray-bg">
<div class="wrapper wrapper-content animated fadeInRight" >
    <div class="row">
        <div class="col-sm-12">
            <div class="ibox float-e-margins">
                <div class="ibox-title" id="downOrUpRefresh" style="">
                    <h5>学生成绩排名(个人)</h5>
                    <!-- 列表表头ibox-tools的工具，隐藏，20171212 -->
                    <!-- <div class="ibox-tools">
                        <a class="collapse-link"> <i class="fa fa-chevron-up"></i>
                        </a>
                        <a class="close-link"> <i class="fa fa-times"></i>
                        </a>
                    </div> -->
                </div>
                <div class="ibox-content">
                    
<div class="row">
    <div id="xsjbxxGridQuery" class="col-md-12 table_list_search_box">
        <div class="form-inline">
                <div class="form-group col-md-3" style="margin-bottom: 10px">
                </div>
                <div class="form-group col-md-3" style="margin-bottom: 10px">
                    <label class="control-label">学年学期：</label>
                    <select id="xnxq" name="xnxq" multiple class="form-control">
                        <option value="">请选择</option>
                        
                            <option value="2025-2026-2">2025-2026-2</option>
                        
                            <option value="2025-2026-1">2025-2026-1</option>
                        
                            <option value="2024-2025-2">2024-2025-2</option>
                        
                            <option value="2024-2025-1">2024-2025-1</option>
                        
                            <option value="2023-2024-2">2023-2024-2</option>
                        
                            <option value="2023-2024-1">2023-2024-1</option>
                        
                            <option value="2022-2023-2">2022-2023-2</option>
                        
                            <option value="2022-2023-1">2022-2023-1</option>
                        
                            <option value="2021-2022-2">2021-2022-2</option>
                        
                            <option value="2021-2022-1">2021-2022-1</option>
                        
                            <option value="2020-2021-2">2020-2021-2</option>
                        
                            <option value="2020-2021-1">2020-2021-1</option>
                        
                            <option value="2019-2020-2">2019-2020-2</option>
                        
                            <option value="2019-2020-1">2019-2020-1</option>
                        
                            <option value="2018-2019-2">2018-2019-2</option>
                        
                            <option value="2018-2019-1">2018-2019-1</option>
                        
                            <option value="2017-2018-2">2017-2018-2</option>
                        
                            <option value="2017-2018-1">2017-2018-1</option>
                        
                            <option value="2016-2017-2">2016-2017-2</option>
                        
                            <option value="2016-2017-1">2016-2017-1</option>
                        
                    </select>
                </div>
                <div class="form-group col-md-3" style="margin-bottom: 10px;">
                    <button class="btn btn-primary btn-sm" onclick="printdgxscj()"
                            style="margin-left: 11px;margin-bottom: 0;">搜索
                    </button>
                </div>

        </div>
    </div>
</div>

<div id="myTabContent" class="tab-content">
    <div class="tab-pane fade in active" id="xkmdtz">
        <div class="empty-data-tips">
            <div class="empty-img"></div>
            <div class="empty-tip">请点击搜索数据</div>
        </div>
        <iframe id="iframe" frameborder="0" src="" width="100%" height="800px"></iframe>
    </div>
</div>

<div class="modal fade" id="xzxs" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
     aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content" style="width: 800px">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                    &times;
                </button>
                <h4 class="modal-title">
                    选择学生
                </h4>
            </div>
            <div class="modal-body">
                <table class="table table-bordered table-condensed dataTables-example dataTable no-footer">
                    <tr>
                        <td class="width-20 active text-center"></td>
                        <td class="width-35 active text-center">
                            <label>学号</label>
                        </td>
                        <td class="width-35 active text-center">
                            <label>姓名</label>
                        </td>
                        <td class="width-35 active text-center">
                            <label>所在年级</label>
                        </td>
                        <td class="width-35 active text-center">
                            <label>院系</label>
                        </td>
                        <td class="width-35 active text-center">
                            <label>专业</label>
                        </td>
                        <td class="width-35 active text-center">
                            <label>班级</label>
                        </td>
                    </tr>
                    <tbody id="xslist">
                    </tbody>
                    <tfoot>
                    <tr>
                        <td colspan="7" style="text-align: center"><a onclick="getPage(1);">上一页</a>&nbsp;&nbsp;<a
                                onclick="getPage(2);">下一页</a>&nbsp;&nbsp;<span id="current"></span>/<span
                                id="pages"></span>页&nbsp;&nbsp;&nbsp;&nbsp;共<span id="total"></span>条
                        </td>
                    </tr>
                    </tfoot>
                </table>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" onclick="saveCjlr()">确定</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>
<script type="text/javascript">
    $(document).ready(function () {
        $(document).keyup(function (evnet) {
            //回车
            if (evnet.keyCode == '13') {
                printdgxscj();
            }
        });

        $('#xnxq').ySelect({
            placeholder: '全部',
        });
        $('#xnxq').prev('.fs-dropdown').find('.fs-option').each(function(){
            if($(this).attr('data-value') === "2025-2026-1"){
                $(this).addClass('curXnxq')
            }
        })
    });

    function saveCjlr() {
        var url1 = '/admin/cjgl/xscjbbdy/getXscjpm';
        var xsxh = $('input[name="xzxsxh"]:checked').val();
        var sznj = $('input[name="xzxsxh"]:checked').attr("data_sznj");
        var xnxq = $("#xnxq").val() == null ? '' : $("#xnxq").val();
        $("#xzxs").modal("hide");
        url1 = url1 + "?xh=" + xsxh + "&sznj=" + sznj + "&xnxq=" + xnxq;
        document.getElementById('iframe').src = encodeURI(url1);
    }

    function printdgxscj() {
        var url1 = '/admin/cjgl/xscjbbdy/getXscjpm';
        var xnxq = $("#xnxq").val() == null ? '' : $("#xnxq").val();
        $.ajax({
            type: "post",
            url: "/admin/cjgl/xscjbbdy/printdgxscj",
            data: {
                xsxh: $("#xsxh").val()
            },
            dataType: "json",
            success: function (data) {
                if (data.ret == 0) {
                    if (data.data.records.length == 1) {
                        url1 = url1 + "?xh=" + data.data.records[0].xh + "&sznj=" + data.data.records[0].sznj + "&xnxq=" + xnxq;
                        document.getElementById('iframe').src = encodeURI(url1);
                    } else {
                        $("#xslist").html("");
                        $("#xzxs").modal("show");
                        content(data);
                    }
                    $('.empty-data-tips').hide()
                } else {
                    swal("警告", "无此学生，请确认！", "error");
                    return false;
                }
            }
        });

    }

    function getPage(type) {
        var current = $("#current").text();
        var pages = $("#pages").text();
        var page;
        if (type == 1) {
            if (current == 1) {
                return;
            }
            page = parseInt(current) - 1;
        } else {
            if (current == pages) {
                return;
            }
            page = parseInt(current) + 1;
        }
        $.ajax({
            type: "post",
            url: "/admin/cjgl/xscjbbdy/printdgxscj",
            data: {xsxh: $("#xsxh").val(),
                zydm: $("#zydm").val(),
                bjdm: $("#bjdm").val(),
                current: page},
            dataType: "json",
            success: function (data) {
                $("#xslist").html("");
                content(data);
            }
        });
    }

    function content(data) {
        var html = "";
        var list = data.data.records;
        for (var i = 0; i < list.length; i++) {
            if (i == 0) {
                html += ' <tr><td class="width-35 text-center"><input type="radio" checked="checked" name="xzxsxh" value="' + list[i].xh + '" data_sznj="' + list[i].sznj + '"/>'
                    + '</td><td class="width-35 text-center">';
            } else {
                html += ' <tr><td class="width-35 text-center"><input type="radio" name="xzxsxh" value="' + list[i].xh + '" data_sznj="' + list[i].sznj + '"/></td>'
                    + '<td class="width-35 text-center">';
            }
            html += ' <label title="' + list[i].xh + '">' + list[i].xh + '</label>';
            html += '  </td>';
            html += '  <td class="width-35 text-center">';
            html += '  <label title="' + list[i].xm + '">' + list[i].xm + '</label>';
            html += '    </td>';
            html += '   <td class="width-35 text-center">';
            html += '    <label title="' + list[i].sznj + '">' + list[i].sznj + '</label>';
            html += '     </td>';
            html += '     <td class="width-35 text-center">';
            html += '     <label title="' + list[i].yxmc + '">' + list[i].yxmc + '</label>';
            html += '    </td>';
            html += '    <td class="width-35 text-center">';
            html += '    <label title="' + list[i].zymc + '">' + list[i].zymc + '</label>';
            html += '    </td>';
            html += '    <td class="width-35 text-center">';
            html += '     <label title="' + list[i].bjmc + '">' + list[i].bjmc + '</label>';
            html += '    </td></tr>';
        }
        $("#current").html(data.data.current);
        $("#pages").html(data.data.pages);
        $("#total").html(data.data.total);
        $("#xslist").html(html);
    }
</script>


                </div>
            </div>
        </div>
    </div>
</div>

<!DOCTYPE html>
<script src="/static/vendors/bootstrap/js/bootstrap.min.js?_t=1768303707405"></script>
<!-- Peity -->
		<script src="/static/vendors/peity/jquery.peity.min.js?_t=1768303707405"></script>
<script src="/static/vendors/layer/layer3.5.1.js?_t=1768303707405"></script>
    
        
       <script src="/static/vendors/layer/layer3.5.1.js?_t=1768303707405"></script>
<!-- jqGrid -->
	    <script src="/static/vendors/jqgrid/js/i18n/grid.locale-cn.js?_t=1768303707405"></script>
	    <script src="/static/vendors/jqgrid/js/jquery.jqGrid.min.js?_t=1768303707405"></script>
	    <script src="/static/vendors/jqgrid/plugins/jquery.tablednd.js?_t=1768303707405"></script>
<!-- jqGrid curdtools-->
		<script src="/static/common/js/curdtools_jqgrid.js?_t=1768303707405"></script>
<!-- iCheck -->
		<script src="/static/vendors/iCheck/icheck.min.js?_t=1768303707405"></script>
        <script src="/static/vendors/iCheck/custom.min.js?_t=1768303707405"></script>
<!-- Sweet alert -->
		<script src="/static/vendors/sweetalert/sweetalert.min.js?_t=1768303707405"></script>
<!-- 时间控件 -->
	   <script src="/static/vendors/datepicker/bootstrap-datepicker.js?_t=1768303707405"></script>

<input type="hidden" id="adminPath" value="/admin"/>
<input type="hidden" id="staticPath" value="/static"/>
<!-- 自定义js -->
<script src="/static/common/js/content.js?_t=1768303707405"></script>
</body>
</html>
    
```

